<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iGaming Landing Page Generator - Fixed</title>
    <script src="https://unpkg.com/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;


        function App() {
            const [step, setStep] = useState(1);
            const [formData, setFormData] = useState({
                title: 'Welcome to Our Casino',
                subtitle: 'Experience the Ultimate Thrill',
                description: 'Spin to win and claim your exclusive bonus! Join now for top casino games, live dealers, and massive jackpots.',
                ctaText: 'Claim Bonus',
                ctaUrl: '/signup',
                backgroundImage: 'https://via.placeholder.com/1920x1080?text=Casino+Background',
                logo: 'https://via.placeholder.com/200x50?text=Casino+Logo',
                features: ['Live Dealers', 'Slot Machines', 'Table Games', 'Secure Banking'],
                bonusAmount: '100',
                bonusType: 'Free Spins',
                casinoUrl: 'https://your-casino.com/signup',
                gameType: 'slots'
            });
            const [generatedPage, setGeneratedPage] = useState('');


            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value || '' }));
            };


            const handleFeatureChange = (index, value) => {
                const newFeatures = [...formData.features];
                newFeatures[index] = value || '';
                setFormData(prev => ({ ...prev, features: newFeatures }));
            };


            const addFeature = () => {
                setFormData(prev => ({ ...prev, features: [...prev.features, 'New Feature'] }));
            };


            const removeFeature = (index) => {
                const newFeatures = formData.features.filter((_, i) => i !== index);
                setFormData(prev => ({ ...prev, features: newFeatures }));
            };


            const generateLandingPage = () => {
                try {
                    const gameSection = formData.gameType === 'roulette' ? `
                        <section class="py-20 bg-black bg-opacity-80">
                            <div class="container mx-auto px-4">
                                <h2 class="text-4xl font-bold text-center mb-16 neon-text">Try Our Roulette Simulator</h2>
                                <div class="max-w-lg mx-auto bg-gray-800 p-6 rounded-lg shadow-xl">
                                    <div class="relative w-80 h-80 mx-auto mb-6">
                                        <div id="roulette-wheel" class="w-full h-full rounded-full border-8 border-yellow-400 relative overflow-hidden" style="background: conic-gradient(from 0deg, #ff0000 0deg 9.73deg, #000000 9.73deg 19.46deg, #ff0000 19.46deg 29.19deg, #000000 29.19deg 38.92deg, #ff0000 38.92deg 48.65deg, #000000 48.65deg 58.38deg, #ff0000 58.38deg 68.11deg, #000000 68.11deg 77.84deg, #ff0000 77.84deg 87.57deg, #000000 87.57deg 97.3deg, #ff0000 97.3deg 107.03deg, #000000 107.03deg 116.76deg, #ff0000 116.76deg 126.49deg, #000000 126.49deg 136.22deg, #ff0000 136.22deg 145.95deg, #000000 145.95deg 155.68deg, #ff0000 155.68deg 165.41deg, #000000 165.41deg 175.14deg, #ff0000 175.14deg 184.87deg, #000000 184.87deg 194.6deg, #ff0000 194.6deg 204.33deg, #000000 204.33deg 214.06deg, #ff0000 214.06deg 223.79deg, #000000 223.79deg 233.52deg, #ff0000 233.52deg 243.25deg, #000000 243.25deg 252.98deg, #ff0000 252.98deg 262.71deg, #000000 262.71deg 272.44deg, #ff0000 272.44deg 282.17deg, #000000 282.17deg 291.9deg, #ff0000 291.9deg 301.63deg, #000000 301.63deg 311.36deg, #ff0000 311.36deg 321.09deg, #000000 321.09deg 330.82deg, #ff0000 330.82deg 340.55deg, #000000 340.55deg 350.28deg, #ff0000 350.28deg 360deg);">
                                            <div class="absolute top-1/2 left-1/2 w-4 h-4 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2 z-10"></div>
                                            <div id="ball" class="absolute w-3 h-3 bg-white rounded-full" style="top: 10px; left: 50%; transform: translateX(-50%);"></div>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-3 gap-2 mb-4">
                                        <button class="bet-btn bg-red-600 text-white p-2 rounded" data-bet="red">Red</button>
                                        <button class="bet-btn bg-green-600 text-white p-2 rounded" data-bet="0">0</button>
                                        <button class="bet-btn bg-gray-800 text-white p-2 rounded" data-bet="black">Black</button>
                                    </div>
                                    <button id="spinRoulette" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded w-full mb-4">Spin Roulette</button>
                                    <p id="rouletteResult" class="text-center text-lg font-semibold"></p>
                                    <p id="selectedBet" class="text-center text-sm text-gray-300 mb-2">Select your bet above</p>
                                </div>
                            </div>
                        </section>` : `
                        <section class="py-20 bg-black bg-opacity-80">
                            <div class="container mx-auto px-4">
                                <h2 class="text-4xl font-bold text-center mb-16 neon-text">Try Our Slot Simulator</h2>
                                <div class="max-w-md mx-auto bg-gray-800 p-6 rounded-lg shadow-xl">
                                    <div id="slotMachine" class="flex justify-center space-x-4 mb-6">
                                        <div class="w-20 h-20 bg-white rounded flex items-center justify-center text-4xl reel" id="reel1">üçí</div>
                                        <div class="w-20 h-20 bg-white rounded flex items-center justify-center text-4xl reel" id="reel2">üçí</div>
                                        <div class="w-20 h-20 bg-white rounded flex items-center justify-center text-4xl reel" id="reel3">üçí</div>
                                    </div>
                                    <button id="spinButton" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded w-full mb-4">Spin</button>
                                    <p id="result" class="text-center text-lg font-semibold"></p>
                                </div>
                            </div>
                        </section>`;
                    const pageHtml = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${formData.title || 'Casino Landing Page'}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .reel {
            animation: spin 0.5s linear infinite;
        }
        .stopped {
            animation: none;
        }
        body {
            background-color: #1a1a1a;
            color: #ffd700;
        }
        .neon-text {
            text-shadow: 0 0 10px #ffd700, 0 0 20px #ff0000;
        }
        .casino-bg {
            background: linear-gradient(to bottom, #000000, #330000);
        }
    </style>
</head>
<body class="casino-bg text-yellow-400">
    <header class="bg-black bg-opacity-70 py-4 shadow-lg">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <img src="${formData.logo || 'https://via.placeholder.com/200x50?text=Logo'}" alt="Logo" class="h-16">
            <nav class="hidden md:flex space-x-6 text-lg">
                <a href="#" class="hover:text-red-500 transition">Home</a>
                <a href="#" class="hover:text-red-500 transition">Games</a>
                <a href="#" class="hover:text-red-500 transition">Bonuses</a>
                <a href="#" class="hover:text-red-500 transition">Contact</a>
            </nav>
        </div>
    </header>
    <main>
        <section class="relative h-screen flex items-center justify-center overflow-hidden" style="background-image: url('${formData.backgroundImage || 'https://via.placeholder.com/1920x1080?text=Casino+Background'}'); background-size: cover; background-position: center;">
            <div class="absolute inset-0 bg-black bg-opacity-60"></div>
            <div class="relative container mx-auto px-4 text-center z-10">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-6 neon-text">${formData.title || 'Welcome to Our Casino'}</h1>
                <p class="text-2xl md:text-3xl mb-8 neon-text">${formData.subtitle || 'Experience the Ultimate Thrill'}</p>
                <p class="text-lg md:text-xl mb-12 max-w-3xl mx-auto">${formData.description || 'Join now and claim your bonus!'}</p>
                <a href="${formData.ctaUrl || '/signup'}" id="ctaButton" class="bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 rounded-lg text-xl shadow-lg transition transform hover:scale-105">${formData.ctaText || 'Claim Bonus'}</a>
            </div>
        </section>
        ${gameSection}
        <section class="py-20">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl font-bold text-center mb-16 neon-text">Our Features</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-10">
                    ${formData.features.length ? formData.features.map(feature => `
                    <div class="text-center bg-gray-800 p-6 rounded-lg shadow-lg transform hover:scale-105 transition">
                        <div class="w-20 h-20 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl">üé∞</div>
                        <h3 class="text-2xl font-semibold mb-4">${feature || 'Feature'}</h3>
                        <p class="text-gray-300">Experience the best in ${feature ? feature.toLowerCase() : 'gaming'}.</p>
                    </div>
                    `).join('') : '<p class="text-center">No features added yet.</p>'}
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-black py-10 text-center">
        <p>&copy; 2025 Casino Platform. All rights reserved.</p>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Slot Machine Logic
            const symbols = ['üçí', 'üçã', 'üçä', 'üçâ', '‚≠ê', 'üîî', 'üíé', '7Ô∏è‚É£'];
            const reels = [
                document.getElementById('reel1'),
                document.getElementById('reel2'),
                document.getElementById('reel3')
            ];
            const spinButton = document.getElementById('spinButton');
            const result = document.getElementById('result');
            const ctaButton = document.getElementById('ctaButton');

            // Roulette Logic
            const rouletteWheel = document.getElementById('roulette-wheel');
            const spinRouletteBtn = document.getElementById('spinRoulette');
            const rouletteResult = document.getElementById('rouletteResult');
            const selectedBetDisplay = document.getElementById('selectedBet');
            const betButtons = document.querySelectorAll('.bet-btn');
            const ball = document.getElementById('ball');
            
            let selectedBet = null;
            let isSpinning = false;
            let wins = 0;

            // Roulette numbers and colors
            const rouletteNumbers = [
                {num: 0, color: 'green'},
                {num: 32, color: 'red'}, {num: 15, color: 'black'}, {num: 19, color: 'red'}, {num: 4, color: 'black'},
                {num: 21, color: 'red'}, {num: 2, color: 'black'}, {num: 25, color: 'red'}, {num: 17, color: 'black'},
                {num: 34, color: 'red'}, {num: 6, color: 'black'}, {num: 27, color: 'red'}, {num: 13, color: 'black'},
                {num: 36, color: 'red'}, {num: 11, color: 'black'}, {num: 30, color: 'red'}, {num: 8, color: 'black'},
                {num: 23, color: 'red'}, {num: 10, color: 'black'}, {num: 5, color: 'red'}, {num: 24, color: 'black'},
                {num: 16, color: 'red'}, {num: 33, color: 'black'}, {num: 1, color: 'red'}, {num: 20, color: 'black'},
                {num: 14, color: 'red'}, {num: 31, color: 'black'}, {num: 9, color: 'red'}, {num: 22, color: 'black'},
                {num: 18, color: 'red'}, {num: 29, color: 'black'}, {num: 7, color: 'red'}, {num: 28, color: 'black'},
                {num: 12, color: 'red'}, {num: 35, color: 'black'}, {num: 3, color: 'red'}, {num: 26, color: 'black'}
            ];

            function getRandomSymbol() {
                return symbols[Math.floor(Math.random() * symbols.length)];
            }

            function spin() {
                if (!spinButton || !result || !ctaButton || reels.some(reel => !reel)) return;
                
                spinButton.disabled = true;
                result.textContent = '';
                reels.forEach(reel => reel.classList.remove('stopped'));

                setTimeout(() => {
                    reels[0].textContent = getRandomSymbol();
                    reels[0].classList.add('stopped');
                }, 500);
                setTimeout(() => {
                    reels[1].textContent = getRandomSymbol();
                    reels[1].classList.add('stopped');
                }, 1000);
                setTimeout(() => {
                    reels[2].textContent = getRandomSymbol();
                    reels[2].classList.add('stopped');
                    checkSlotWin();
                    spinButton.disabled = false;
                }, 1500);
            }

            function checkSlotWin() {
                const [r1, r2, r3] = reels.map(reel => reel.textContent);
                if (r1 === r2 && r2 === r3) {
                    wins++;
                    result.textContent = 'JACKPOT! You won ' + '${formData.bonusAmount || "100"}' + ' ' + '${formData.bonusType || "Free Spins"}' + '!';
                    result.className += ' text-yellow-400 animate-pulse';
                    ctaButton.textContent = 'Claim Your ' + '${formData.bonusAmount || "100"}' + ' ' + '${formData.bonusType || "Free Spins"}' + ' Now!';
                    ctaButton.href = '${formData.casinoUrl || "#"}';
                    ctaButton.classList.add('animate-pulse', 'bg-green-600');
                    ctaButton.classList.remove('bg-red-600');
                } else if (r1 === r2 || r2 === r3 || r1 === r3) {
                    result.textContent = 'Nice! Partial match - Keep playing to win big!';
                    result.className += ' text-blue-400';
                } else {
                    result.textContent = 'Try again! Jackpot is waiting!';
                    result.className += ' text-gray-400';
                }
            }

            // Roulette bet selection
            if (betButtons.length > 0) {
                betButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        betButtons.forEach(b => b.classList.remove('ring-4', 'ring-yellow-400'));
                        btn.classList.add('ring-4', 'ring-yellow-400');
                        selectedBet = btn.dataset.bet;
                        selectedBetDisplay.textContent = 'Selected: ' + (selectedBet === '0' ? 'Zero' : selectedBet.charAt(0).toUpperCase() + selectedBet.slice(1));
                    });
                });
            }

            function spinRoulette() {
                if (!selectedBet || isSpinning) {
                    if (!selectedBet) {
                        rouletteResult.textContent = 'Please select a bet first!';
                        rouletteResult.className += ' text-red-400';
                    }
                    return;
                }

                isSpinning = true;
                spinRouletteBtn.disabled = true;
                rouletteResult.textContent = 'Spinning...';
                rouletteResult.className = 'text-center text-lg font-semibold text-yellow-400';

                // Animate wheel
                const spins = 5 + Math.random() * 5;
                const finalRotation = spins * 360;
                
                if (rouletteWheel) {
                    rouletteWheel.style.transition = 'transform 3s cubic-bezier(0.25, 0.1, 0.25, 1)';
                    rouletteWheel.style.transform = 'rotate(' + finalRotation + 'deg)';
                }

                setTimeout(() => {
                    const winningNumber = rouletteNumbers[Math.floor(Math.random() * rouletteNumbers.length)];
                    checkRouletteWin(winningNumber);
                    isSpinning = false;
                    spinRouletteBtn.disabled = false;
                }, 3000);
            }

            function checkRouletteWin(winningNumber) {
                const isWin = (selectedBet === winningNumber.color) || 
                             (selectedBet === '0' && winningNumber.num === 0);
                
                if (isWin) {
                    wins++;
                    rouletteResult.textContent = 'WINNER! Number ' + winningNumber.num + ' (' + winningNumber.color + ') - You won ' + '${formData.bonusAmount || "100"}' + ' ' + '${formData.bonusType || "Free Spins"}' + '!';
                    rouletteResult.className = 'text-center text-lg font-semibold text-green-400 animate-pulse';
                    if (ctaButton) {
                        ctaButton.textContent = 'Claim Your ' + '${formData.bonusAmount || "100"}' + ' ' + '${formData.bonusType || "Free Spins"}' + ' Now!';
                        ctaButton.href = '${formData.casinoUrl || "#"}';
                        ctaButton.classList.add('animate-pulse', 'bg-green-600');
                        ctaButton.classList.remove('bg-red-600');
                    }
                } else {
                    rouletteResult.textContent = 'Number ' + winningNumber.num + ' (' + winningNumber.color + ') - Try again!';
                    rouletteResult.className = 'text-center text-lg font-semibold text-red-400';
                }
            }

            // Event listeners
            if (spinButton) spinButton.addEventListener('click', spin);
            if (spinRouletteBtn) spinRouletteBtn.addEventListener('click', spinRoulette);
        });
    </script>
</body>
</html>`;
                    setGeneratedPage(pageHtml);
                    setStep(3);
                } catch (error) {
                    console.error('Error generating page:', error);
                    alert('An error occurred while generating the page. Please check the console for details.');
                }
            };


            const downloadPage = () => {
                try {
                    const blob = new Blob([generatedPage], { type: 'text/html' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'fixed-casino-landing-page.html';
                    a.click();
                    URL.revokeObjectURL(url);
                } catch (error) {
                    console.error('Error downloading page:', error);
                    alert('An error occurred while downloading the page.');
                }
            };


            if (step === 3) {
                return (
                    <div className="min-h-screen bg-gray-100 p-8">
                        <div className="max-w-4xl mx-auto">
                            <button onClick={() => setStep(1)} className="mb-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Back to Editor</button>
                            <h2 className="text-2xl font-bold mb-4">Generated Casino Landing Page</h2>
                            <iframe
                                srcDoc={generatedPage}
                                className="w-full h-[800px] border rounded-lg"
                                sandbox="allow-scripts"
                            />
                            <button onClick={downloadPage} className="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Download HTML</button>
                        </div>
                    </div>
                );
            }


            return (
                <div className="min-h-screen bg-gray-100">
                    <nav className="bg-white shadow p-4">
                        <div className="container mx-auto flex justify-between items-center">
                            <h1 className="text-2xl font-bold">Casino Landing Page Generator</h1>
                            <p className="text-sm text-gray-600">SaaS Service - Create immersive casino landing pages</p>
                        </div>
                    </nav>
                    <div className="container mx-auto px-4 py-8 max-w-2xl">
                        <div className="bg-white rounded-lg shadow-md p-6">
                            {step === 1 && (
                                <>
                                    <h2 className="text-xl font-semibold mb-4">Step 1: Basic Information</h2>
                                    <div className="space-y-4">
                                        <input
                                            type="text"
                                            name="title"
                                            placeholder="Page Title"
                                            value={formData.title}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="text"
                                            name="subtitle"
                                            placeholder="Subtitle"
                                            value={formData.subtitle}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <textarea
                                            name="description"
                                            placeholder="Description"
                                            value={formData.description}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded h-24 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="text"
                                            name="ctaText"
                                            placeholder="CTA Button Text"
                                            value={formData.ctaText}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="url"
                                            name="ctaUrl"
                                            placeholder="CTA Button URL"
                                            value={formData.ctaUrl}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="url"
                                            name="backgroundImage"
                                            placeholder="Background Image URL"
                                            value={formData.backgroundImage}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="url"
                                            name="logo"
                                            placeholder="Logo Image URL"
                                            value={formData.logo}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="text"
                                            name="bonusAmount"
                                            placeholder="Bonus Amount (e.g., 100)"
                                            value={formData.bonusAmount}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="text"
                                            name="bonusType"
                                            placeholder="Bonus Type (e.g., Free Spins)"
                                            value={formData.bonusType}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <input
                                            type="url"
                                            name="casinoUrl"
                                            placeholder="Casino Website URL (where users claim bonus)"
                                            value={formData.casinoUrl}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        />
                                        <select
                                            name="gameType"
                                            value={formData.gameType}
                                            onChange={handleInputChange}
                                            className="w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                        >
                                            <option value="slots">Slot Machine Game</option>
                                            <option value="roulette">Roulette Game</option>
                                        </select>
                                        <button onClick={() => setStep(2)} className="bg-blue-500 text-white px-4 py-2 rounded w-full hover:bg-blue-600">Next: Features</button>
                                    </div>
                                </>
                            )}
                            {step === 2 && (
                                <>
                                    <h2 className="text-xl font-semibold mb-4">Step 2: Features</h2>
                                    <div className="space-y-4">
                                        {formData.features.map((feature, index) => (
                                            <div key={index} className="flex items-center space-x-2">
                                                <input
                                                    type="text"
                                                    value={feature}
                                                    onChange={(e) => handleFeatureChange(index, e.target.value)}
                                                    className="flex-1 p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                />
                                                <button onClick={() => removeFeature(index)} className="bg-red-500 text-white px-2 py-2 rounded hover:bg-red-600">-</button>
                                            </div>
                                        ))}
                                        <button onClick={addFeature} className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Add Feature</button>
                                        <div className="flex space-x-2">
                                            <button onClick={() => setStep(1)} className="bg-gray-500 text-white px-4 py-2 rounded flex-1 hover:bg-gray-600">Previous</button>
                                            <button onClick={generateLandingPage} className="bg-blue-500 text-white px-4 py-2 rounded flex-1 hover:bg-blue-600">Generate Page</button>
                                        </div>
                                    </div>
                                </>
                            )}
                        </div>
                    </div>
                </div>
            );
        }


        try {
            ReactDOM.render(<App />, document.getElementById('root'));
        } catch (error) {
            console.error('Error rendering React app:', error);
        }
    </script>
</body>
</html>
